@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix db: <http://mappings.dbpedia.org/server/ontology/classes/> .
@prefix wd: <http://worldbank.org/> .
@prefix econ: <http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#> .
@prefix su: <http://purl.bioontology.org/ontology/MEDDRA/> .
@prefix gn: <http://geonames.org/> .
@base <https://github.com/mmikos/knowledge_graphs/> .


<CountryTriples>
    a rr:TriplesMap;

    # Define the data source for extracting country information
   rml:logicalSource [
        rml:source "//Users/martynamikos/Desktop/BMKG/project/whosuicide.csv";
        rml:referenceFormulation ql:CSV
    ];
   
    # Define the subject of the generated statements
    rr:subjectMap [
        rr:template "http://geonames.org/countries/{codecountry}/{country}.html";
        rr:class gn:Country
    ];

    # Link to the country code (ISO3)
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "codecountry"
        ]
    ];

    # Map the country name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rml:reference "country"
        ]
    ];

    # Show the country name
    rr:predicateObjectMap [ 
        rr:predicate db:Name;
        rr:objectMap [ 
            rml:reference "country";
            rr:language "en"
        ]
    ];


# Generate a URI for the continent object
rr:predicateObjectMap [
  rr:predicate gn:Continent ;
  rr:objectMap [ rr:template "http://geonames.org/continent/{continent}" ]
] ;

   # Link to the continent
    rr:predicateObjectMap [ 
        rr:predicate db:Continent;
        rr:objectMap [ 
            rml:reference "continent";
            rr:language "en"
        ]
    ];

        # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "year";
            rr:datatype xsd:integer  
        ]
    ].

<YearTriples>
    a rr:TriplesMap;

    # Define the data source for the year
   rml:logicalSource [
        rml:source "//Users/martynamikos/Desktop/BMKG/project/whosuicide.csv";
        rml:referenceFormulation ql:CSV
    ];


     # Define the subject of the generated statements
    rr:subjectMap [ 
    rr:template "http://dbpedia.org/page/{year}/{codecountry}";
    rr:class db:Year
    ];

    # Map the year to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rml:reference "year"
        ]
    ];
    # Link the ocuntry code
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "codecountry"
        ]
    ];
    # Show the country name
    rr:predicateObjectMap [ 
        rr:predicate db:Name;
        rr:objectMap [ 
            rml:reference "country";
        ]
    ];

    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate wd:Year ;
        rr:objectMap [ 
            rml:reference "year";
            rr:datatype xsd:integer  
        ]
    ].

    <TemperatureTriples>
    a rr:TriplesMap;
  
      # Define the data source for the temperature data

  rml:logicalSource [
    rml:source "//Users/martynamikos/Desktop/BMKG/project/temperaturedata.csv";
    rml:referenceFormulation ql:CSV
  ];

    # Generate a URI for temperature
    rr:subjectMap [ 
        rr:template "http://worldbank.org/Temperature/{ISO3}/{Year}";
        rr:class econ:C25206;
    ];


   # Link to ISO3
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "ISO3";
        ]
    ];


    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "Year";
            rr:datatype xsd:integer  
        ]
    ];

    # Map the name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rr:template "Temperature in {Year}";
            rr:termType rr:Literal;
        ]
    ];


    # Link to the temperature 
    rr:predicateObjectMap [ 
        rr:predicate rdfs:value;
        rr:objectMap [ 
            rml:reference "temperature";
            rr:datatype xsd:float  
        ]
    ].

<SuicideTriple>
    a rr:TriplesMap;

    # Define the data source for suicide data
   rml:logicalSource [
        rml:source "//Users/martynamikos/Desktop/BMKG/project/whosuicide.csv";
        rml:referenceFormulation ql:CSV
    ];


     # Define the subject of the generated statements
    rr:subjectMap [ 
    rr:template "https://www.who.int/mental_health/prevention/suicide/{codecountry}/{year}" ;
    rr:class su:10042462
    ];


    # Map the name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rr:template "Suicide in {year}";
            rr:termType rr:Literal;
        ]
    ];


   # Link to country code
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "codecountry";
        ]
    ];


    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "year";
            rr:datatype xsd:integer  
        ]
    ];

    # Define the object of the suicide property as an integer
    rr:predicateObjectMap [ 
        rr:predicate rdfs:value;
        rr:objectMap [ 
            rml:reference "suicides_no"; 
            rr:datatype xsd:integer 
        ]

    ].


<UnemploymentTriples>
    a rr:TriplesMap;
    
  rml:logicalSource [
    rml:source "//Users/martynamikos/Desktop/BMKG/project/worldbank.csv";
    rml:referenceFormulation ql:CSV
  ];

    # Generate a URI for unemployment
    rr:subjectMap [ 
        rr:template "http://worldbank.org/Unemployment/{countrycode}/{time}";
        rr:class econ:C0041674 
    ];


    # Map the year name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rr:template "Unemployment in {time}";
            rr:termType rr:Literal;
        ]
    ];

    
   # Show the country name
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "countrycode";
        ]
    ];


    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "time";
            rr:datatype xsd:integer  
        ]
    ];

    # Define the object of the uneployment property as float
    rr:predicateObjectMap [ 
        rr:predicate rdfs:value;
        rr:objectMap [ 
            rml:reference "Unemployment";
            rr:datatype xsd:float  
        ]
    ].

<EducationTriples>
    a rr:TriplesMap;
    
  rml:logicalSource [
    rml:source "//Users/martynamikos/Desktop/BMKG/project/worldbank.csv";
    rml:referenceFormulation ql:CSV
  ];

    # Generate a URI for education
    rr:subjectMap [ 
        rr:template "http://worldbank.org/Education/{countrycode}/{time}";
        rr:class econ:C17953;
    ];


   # Link to ISO3
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "countrycode";
        ]
    ];


    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "time";
            rr:datatype xsd:integer  
        ]
    ];

    # Map the name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rr:template "Education in {time}";
            rr:termType rr:Literal;
        ]
    ];


    # Define the object of the education property as float
    rr:predicateObjectMap [ 
        rr:predicate rdfs:value;
        rr:objectMap [ 
            rml:reference "Education";
            rr:datatype xsd:float  
        ]
    ].


<PovertyRatioTriples>
    a rr:TriplesMap;
    
  rml:logicalSource [
    rml:source "//Users/martynamikos/Desktop/BMKG/project/worldbank.csv";
    rml:referenceFormulation ql:CSV
  ];

    # Generate a URI for poverty
    rr:subjectMap [ 
        rr:template "http://worldbank.org/PovertyRatio/{countrycode}/{time}";
        rr:class econ:C17009
    ];

    # Map the year name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rr:template "PovertyRatio in {time}";
            rr:termType rr:Literal;
        ]
    ];

   # Link to the country
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "countrycode";
        ]
    ];


    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "time";
            rr:datatype xsd:integer  
        ]
    ];

    # Define the object of the poverty property as float
    rr:predicateObjectMap [ 
        rr:predicate rdfs:value;
        rr:objectMap [ 
            rml:reference "PovertyRatio";
            rr:datatype xsd:float  
        ]

    ].

<NetMigrationTriples>
    a rr:TriplesMap;
    
  rml:logicalSource [
    rml:source "//Users/martynamikos/Desktop/BMKG/project/worldbank.csv";
    rml:referenceFormulation ql:CSV
  ];

    # Generate a URI for netmigration
    rr:subjectMap [ 
        rr:template "http://worldbank.org/NetMigration/{countrycode}/{time}";
        rr:class econ:C15422
    ];

    # Map the year name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rr:template "NetMigration in {time}";
            rr:termType rr:Literal;
        ]
    ];

   # Link to country code
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "countrycode";
        ]
    ];


    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "time";
            rr:datatype xsd:integer  
        ]
    ];

    # Define the object of the migration property as float 
    rr:predicateObjectMap [ 
        rr:predicate rdfs:value;
        rr:objectMap [ 
            rml:reference "NetMigration";
            rr:datatype xsd:float  
        ]
    ].

<GDPTriples>
    a rr:TriplesMap;
    
  rml:logicalSource [
    rml:source "//Users/martynamikos/Desktop/BMKG/project/worldbank.csv";
    rml:referenceFormulation ql:CSV
  ];

    # Generate a URI for GDP pc
    rr:subjectMap [ 
        rr:template "http://worldbank.org/GDPpc/{countrycode}/{time}";
        rr:class db:GrossDomesticProductPerCapita
    ]; 

    # Map the year name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rr:template "GDPPerCapita in {time}";
            rr:termType rr:Literal;
        ]
    ];

   # Link to ISO3
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "countrycode";
        ]
    ];


    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "time";
            rr:datatype xsd:integer  
        ]
    ];

       # Define the object of the GDP property as float
    rr:predicateObjectMap [ 
        rr:predicate rdfs:value;
        rr:objectMap [ 
            rml:reference "GDPpc";
            rr:datatype xsd:float  
        ]
    ].

<PopulationTriples>
    a rr:TriplesMap;
    
  rml:logicalSource [
    rml:source "//Users/martynamikos/Desktop/BMKG/project/worldbank.csv";
    rml:referenceFormulation ql:CSV
  ];

    # Generate a URI for populations
    rr:subjectMap [ 
        rr:template "http://worldbank.org/population/{countrycode}/{time}";
        rr:class db:Population
    ];

    # Map the year name to rdfs:label
    rr:predicateObjectMap [ 
        rr:predicate rdfs:label;
        rr:objectMap [ 
            rr:template "Population in {time}";
            rr:termType rr:Literal;
        ]
    ];

   # Show the country 
    rr:predicateObjectMap [ 
        rr:predicate db:Country;
        rr:objectMap [ 
            rml:reference "countrycode";
        ]
    ];


    # Link to the year 
    rr:predicateObjectMap [ 
        rr:predicate db:Year ;
        rr:objectMap [ 
            rml:reference "time";
            rr:datatype xsd:integer  
        ]
    ];

    #Define the object of the population property as float
     rr:predicateObjectMap [ 
        rr:predicate rdfs:value;
        rr:objectMap [ 
            rml:reference "population"; 
            rr:datatype xsd:float  
        ]
    ].
